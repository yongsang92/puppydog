<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

</html>

<head>
    <title>상품 등록</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 

    <link rel="stylesheet" href="/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="/css/animate.css">

    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="/css/magnific-popup.css"> 

    <link rel="stylesheet" href="/css/aos.css">

    <link rel="stylesheet" href="/css/ionicons.min.css">

    <link rel="stylesheet" href="/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="/css/jquery.timepicker.css">

 
    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/icomoon.css">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body class="goto-here">
    <section class="ftco-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xl-7 ftco-animate">
                    <form th:action="@{''}" method="post" enctype="multipart/form-data" th:object="${ItemForm}"
                        class="billing-form">
                        <h3 class="mb-4 billing-heading">상품 등록</h3>
                        <div class="row align-items-end">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>상품 이름</label>
                                    <input type="text" th:field="*{name}" class="form-control" placeholder="" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>가격</label>
                                    <input id="price" type="text" th:field="*{price}" class="form-control"
                                        placeholder="양수만 입력가능" min="1" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>수량</label>
                                    <input id="quantity" type="text" th:field="*{quantity}" class="form-control"
                                        placeholder="최소 1개">
                                </div>
                            </div>
                          
                            <div class="w-100"></div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="country">상품 카테고리</label>
                                    <div class="select-wrap">
                                        <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                                        <select th:field="*{category}" class="form-control" required>
                                            <option value="SNACK">간식</option>
                                            <option value="TOY">장난감</option>
                                            <option value="CLOTHES">옷</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="w-100"></div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="towncity">상품설명</label>
                                    <input type="text" th:field="*{description}" class="form-control"
                                        placeholder="상품을 소개하세요" required>
                                </div>
                            </div>
                            <div class="w-100"></div>
                            <div class="col-md-12">
                                <div>
                                    <label for="towncity">상품 이미지 </label>
                                    <p></p>
                                    <input type="file" id="itemImg" name="file">
                                    <p></p>
                                    <div class="select_img"><img src="" /></div>
                                </div>

                            </div>


                        </div>

                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <p></p>
                        <button type="submit" class="btn btn-primary py-3 px-4">등록</button>

                    </form><!-- END -->
                    <!-- loader -->
                    <script src="/js/jquery.min.js"></script>
                    <script src="/js/jquery-migrate-3.0.1.min.js"></script>
                    <script src="/js/popper.min.js"></script>
                    <script src="/js/jquery.easing.1.3.js"></script>
                    <script src="/js/jquery.waypoints.min.js"></script>
                    <script src="/js/jquery.stellar.min.js"></script>
                    <script src="/js/owl.carousel.min.js"></script>
                    <script src="/js/aos.js"></script>
                    <script src="/js/scrollax.min.js"></script> 
                    <script src="/js/main.js"></script>


                    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
                    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

                    <script th:inline="javascript">
                        $('#price').blur(function () {
                            let value = document.querySelector('#price').value;
                            if (value < 1) {
                                swal('0보다 커야합니다', '', 'error');
                            }
                        });
                        $('#quantity').blur(function () {
                            let value = document.querySelector('#quantity').value;
                            if (value < 1) {
                                swal('0보다 커야합니다', '', 'error');
                            }
                        });
                        $('#discount').blur(function () {
                            let value = document.querySelector('#discount').value;
                            if (value < 1) {
                                swal('0보다 커야합니다', '', 'error');
                            }
                        });

                        $("#itemImg").change(function () {
                            if (this.files && this.files[0]) {
                                var reader = new FileReader;
                                reader.onload = function (data) {
                                    $(".select_img img").attr("src", data.target.result).width(500);
                                }
                                reader.readAsDataURL(this.files[0]);
                            }
                        });

                    </script>
</body>

</html>